// Test function reference (@) and function invocation ($)

// Define a simple function
times2: (x * 2);

// Test function reference - should return the function object, not execute it
func_ref: @times2;

// Test function invocation - should execute the function
result1: $times2(5);
result2: times2(5);

// Test invoking the function reference - should work
result3: $func_ref(5);

// Output the results
"Function reference:";
func_ref;
"Function invocation result1:";
result1;
"Function invocation result2:";
result2;
"Function invocation via reference:";
result3;

// Test another function with variable capture
add_n: (n + x);
n: 10;

// Test function reference and invocation with variable capture
add_n_ref: @add_n;
add_result1: $add_n(5);
add_result2: $add_n_ref(5);

"Add function reference:";
add_n_ref;
"Add function result1:";
add_result1;
"Add function result2:";
add_result2;
