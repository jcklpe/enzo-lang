//= LIST INTERPOLATION: BASICS
$li1: [1, 2, 3];
$li2: [4, 5];
$li3: [<$li1>, <$li2>];
$li3; // should return [1, 2, 3, 4, 5]

//= LIST INTERPOLATION: PREPEND
$li4: [10, 11, 12];
[0, <$li4>] :> $li4;
$li4;                         // should return [0, 10, 11, 12]

//= LIST INTERPOLATION: APPEND
$li5: ["a", "b"];
$li5 <: [<$li5>, "c"];
$li5;                         // should return ["a", "b", "c"]

//= LIST INTERPOLATION: NESTED INTERPOLATION
$li6: [1, 2];
$li7: [3, 4];
$li8: [<$li6>, [<$li7>]];     // should return [1, 2, [3, 4]]

//= LIST INTERPOLATION: INSERTION
$li9: [100, 200];
$li10: [0, <$li9>, 300];
$li10;                        // should return [0, 100, 200, 300]

//= LIST INTERPOLATION: MULTIPLE INTERPOLATIONS IN ONE LIST
$li11: [1, 2];
$li12: [3, 4];
$li13: [<$li11>, <$li12>, 5];
$li13;                        // should return [1, 2, 3, 4, 5]

//= LIST INTERPOLATION: EMPTY LISTS
$li14: [];
$li15: [<$li14>];
$li15;                        // should return []

//= LIST INTERPOLATION: EMPTY IN NON-EMPTY LIST
$li16: [<$li14>, 99];
$li16;                        // should return [99]

//= LIST INTERPOLATION: SINGLE NON-LIST VALUE (should just insert value)
$li17: [42];
$li18: [<$li17>, 99];
$li18;                        // should return [42, 99]

//= LIST INTERPOLATION: INTERPOLATION OF NON-LIST VALUE (should error)
$notalist-interp: 42;
$li19: [<$notalist-interp>];         // should error: cannot interpolate non-list into a list

//= LIST INTERPOLATION: NESTED LISTS (non-interpolated, for comparison)
$li20: [1, 2];
$li21: [3, 4];
$li22: [$li20, $li21];
$li22;                        // should return [[1, 2], [3, 4]]

//= LIST INTERPOLATION: TRAILING/LEADING INTERPOLATION
$li23: [5, 6];
$li24: [<$li23>];
$li24;                        // should return [5, 6]
$li25: [<$li23>, ];
$li35;                        // should return [5, 6]

//= LIST INTERPOLATION: APPEND TO EMPTY LIST
$li26: [];
$li26 <: [<$li23>];
$li26;                        // should return [5, 6]

//= LIST INTERPOLATION: WITH TEXTS AND MIXED TYPES
$li27: ["apple", "banana"];
$li28: [1, <$li27>, "pear"];
$li28;                        // should return [1, "apple", "banana", "pear"]

//= LIST INTERPOLATION: MULTIPLE EMPTY LISTS
$li29: [<$li14>, <$li14>];
$li29;                        // should return []

//= LIST INTERPOLATION: ERROR IF INTERPOLATING UNDEFINED VARIABLE
$li30: [<$does_not_exist>];   // should error: undefined variable

//= LIST INTERPOLATION: INTERPOLATING A BLUEPRINT INSTANCE (should insert as value)
BP-example: <[foo: Number]>;
$bp1: BP-example[$foo: 10];
$li31: [<$bp1>];              // should error: cannot interpolate non-list into a list

//= PIPELINE INTERPOLATE
$li32: [1, 2, 3];
$li33: [$li32 then ($this), 99]; // should return [[1, 2, 3], 99]
$li33;
$li34: [<$li32 then ($this)>, 99]; // should return [1, 2, 3, 99]
$li34;
